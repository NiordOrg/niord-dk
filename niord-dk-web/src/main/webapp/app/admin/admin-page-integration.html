
<admin-page admin-page-title="Integration">

    <p>Integrating with legacy systems.</p>

    <uib-tabset class="framed-tabs">

        <!-- Legacy NW Import -->
        <uib-tab>
            <tab-heading>
                Legacy NW import
            </tab-heading>
            <div ng-controller="NwIntegrationCtrl">

                <form id="importActiveNw" name="importActive" class="form-horizontal" style="margin-top: 20px">
                    <div class="form-group">
                        <label for="importNwMessageSeries" class="col-sm-4 col-md-3 col-lg-2 control-label">Msg. Series</label>
                        <div class="col-sm-4 col-md-4 col-lg-2">
                            <select id="importNwMessageSeries" class="form-control input-sm" required
                                    ng-model="importSeries" ng-options="series.seriesId for series in messageSeries" >
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="importNwTag" class="col-sm-4 col-md-3 col-lg-2 control-label">Tag</label>
                        <div class="col-sm-4 col-md-4 col-lg-2">
                            <input type="text" ng-model="importTag" class="form-control input-sm"
                                   id="importNwTag" placeholder="Import Tag" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-4 col-md-offset-3 col-lg-offset-2 col-sm-6">
                            <button class="btn btn-sm btn-default" ng-click="importActiveLegacyNw()"
                                    ng-disabled="importActiveNw.$pristine || importActiveNw.$invalid">Import Active</button>
                            <button class="btn btn-sm btn-default" ng-click="testConnection()">Test Connection</button>
                        </div>
                    </div>
                </form>

                <div class="row">
                    <div class="col-sm-12 col-md-10 col-lg-8" style="margin-top: 20px">
                        <label class="control-label" for="legacyNwResult">Result</label>
                        <textarea ng-model="legacyNwResult" id="legacyNwResult" class="form-control input-sm" style="font-size: 10px;" rows="3" readonly></textarea>
                    </div>
                </div>

            </div>
        </uib-tab>


        <!-- Legacy NM Import -->
        <uib-tab>
            <tab-heading>
                Legacy NM import
            </tab-heading>
            <div ng-controller="NmIntegrationCtrl">

                <file-upload url="nmImportUrl"
                             drop-text="or drop .html file here" multiple="false"
                             file-types="'html'" auto-upload="false" remove-after-upload="true"
                             data="data"
                             success="nmFileUploaded(result)"
                             error="nmFileUploadError(status, statusText)">

                    <div class="form-group row" style="margin-top: 20px">
                        <label for="importNmMessageSeries" class="col-sm-4 col-md-3 col-lg-2 control-label">Msg. Series</label>
                        <div class="col-sm-4 col-md-4 col-lg-2">
                            <select id="importNmMessageSeries" class="form-control input-sm" required
                                    ng-model="data.importSeries" ng-options="series.seriesId for series in messageSeries" >
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="importNmTag" class="col-sm-4 col-md-3 col-lg-2 control-label">Tag</label>
                        <div class="col-sm-4 col-md-4 col-lg-2">
                            <input type="text" ng-model="data.importTag" class="form-control input-sm"
                                   id="importNmTag" placeholder="Import Tag" required>
                        </div>
                    </div>

                </file-upload>

                <div class="row">
                    <div class="col-sm-12 col-md-10 col-lg-8" style="margin-top: 20px">
                        <label class="control-label" for="legacyNmResult">Result</label>
                        <textarea ng-model="legacyNwResult" id="legacyNmResult" class="form-control input-sm" style="font-size: 10px;" rows="3" readonly></textarea>
                    </div>
                </div>

            </div>
        </uib-tab>


        <!-- AtoN Import -->
        <uib-tab>
            <tab-heading>
                AtoN Import
            </tab-heading>
            <div ng-controller="AtonIntegrationCtrl" class="row">

                <div class="col-sm-12 col-md-10 col-lg-8" style="margin-top: 20px">
                    <p>Please upload the following files:</p>
                    <dl class="dl-horizontal">

                        <dt>AFMyndighed_TableToExcel.xls</dt>
                        <dd>List of all AtoNs. Upload before the remaining files.</dd>

                        <dt>Fyr2013.xls</dt>
                        <dd>List of lights used in the Fyrliste publication.</dd>

                        <dt>AIS2013.xls</dt>
                        <dd>List of AIS transponders used in the Fyrliste publication.</dd>

                        <dt>DGPS2013.xls</dt>
                        <dd>List of DGPS transmitters used in the Fyrliste publication.</dd>

                        <dt>Racon2013.xls</dt>
                        <dd>List of RACONs used in the Fyrliste publication.</dd>
                    </dl>
                </div>

                <div class="col-sm-12 col-md-10 col-lg-8" style="margin-top: 20px">
                    <file-upload url="atonUploadUrl"
                                 drop-text="or drop .xls file here" multiple="false"
                                 file-types="'xls'" auto-upload="false" remove-after-upload="true"
                                 success="xlsFileUploaded(result)"
                                 error="xlsFileUploadError(status, statusText)"></file-upload>
                </div>

                <div class="col-sm-12 col-md-10 col-lg-8" style="margin-top: 20px">
                    <label class="control-label" for="importResult">Result</label>
                    <textarea ng-model="importResult" id="importResult" class="form-control input-sm" style="font-size: 10px;" rows="3" readonly></textarea>
                </div>


            </div>
        </uib-tab>

    </uib-tabset>

</admin-page>

